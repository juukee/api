org: api
app: api
stage: dev
component: flask
name: backend-api

inputs:
  src:
    name: ${name}
    # TODO: 安装python项目依赖到项目当前目录
    hook: 'pip3 install -r requirements.txt -t ./requirements'
    dist: ./
    include:
      - source: ./requirements
        prefix: ../ # prefix, can make ./requirements files/dir to ./ 
    exclude:
      - .env
      - '__pycache__/**'
      - 'requirements/**'
  region: ap-guangzhou
  runtime: Python3.6
  apigatewayConf:
    protocols:
      - http
      - https
    environment: release